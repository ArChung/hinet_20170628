var pcImgs1 = '<img src="images/index_p1.png"><img src="images/index_p10.png"><img src="images/index_p11.png"><img src="images/index_p12.png"><img src="images/index_p13.png"><img src="images/index_p2.png"><img src="images/index_p3.png"><img src="images/index_p4.png"><img src="images/index_p5.png"><img src="images/index_p6.png"><img src="images/index_p7.png"><img src="images/index_p8.png"><img src="images/index_p9.png"><img src="images/index_play1.png"><img src="images/index_play2.png"><img src="images/index_play3.png"><img src="images/light.png"><img src="images/light2.png"><img src="images/lineBtn.png"><img src="images/mBtn1.png"><img src="images/mBtn2.png"><img src="images/mBtn3.png"><img src="images/mBtn4.png"><img src="images/mBtn5.png"><img src="images/ml1.png"><img src="images/ml2.png"><img src="images/mm0.png"><img src="images/mm1.png"><img src="images/mm2.png"><img src="images/mm3.png"><img src="images/mm4.png"><img src="images/mm5.png"><img src="images/p1a_1.png"><img src="images/p1a_2.png"><img src="images/p1a_3.png"><img src="images/p1a_4.png"><img src="images/p1a_5.png"><img src="images/p1a_6.png"><img src="images/p1a_7.png"><img src="images/p1a_8.png"><img src="images/p1t_1.png"><img src="images/p1t_2.png"><img src="images/p1t_3.png"><img src="images/p1t_4.png"><img src="images/p1t_5.png"><img src="images/p1t_6.png"><img src="images/p1t_7.png"><img src="images/p1t_8.png"><img src="images/p1_1.png"><img src="images/p1_2.png"><img src="images/p1_3.png"><img src="images/p1_4.png"><img src="images/p1_5.png"><img src="images/p1_p1.png"><img src="images/p1_p2.png"><img src="images/p1_p3.png">';
var pcImgs2 = '<img src="images/2.png"><img src="images/back.png"><img src="images/bg.jpg"><img src="images/bg.png"><img src="images/brBtn1.png"><img src="images/brBtn2.png"><img src="images/circle.png"><img src="images/fbBtn.png"><img src="images/first"><img src="images/front.png"><img src="images/gif2.gif"><img src="images/gif3.gif"><img src="images/gif6.gif"><img src="images/hand.png"><img src="images/logo.png"><img src="images/p2t_1.png"><img src="images/p2t_2.png"><img src="images/p2t_3.png"><img src="images/p2t_4.png"><img src="images/p2_1.png"><img src="images/p2_12.png"><img src="images/p2_2.png"><img src="images/p2_3.png"><img src="images/p2_4.png"><img src="images/p2_5.png"><img src="images/p3t_1.png"><img src="images/p3t_2.png"><img src="images/p3t_3.png"><img src="images/p3t_4.png"><img src="images/p3_.png"><img src="images/p3_1.png"><img src="images/p3_1_1.png"><img src="images/p3_1_2.png"><img src="images/p3_1_3.png"><img src="images/p3_1_4.png"><img src="images/p3_1_5.png"><img src="images/p3_1_6.png"><img src="images/p3_1_t1.png"><img src="images/p3_1_t2.png"><img src="images/p3_1_t3.png"><img src="images/p3_1_t4.png"><img src="images/p3_2.png"><img src="images/p3_2_1.png"><img src="images/p3_2_2.png"><img src="images/p3_2_3.png"><img src="images/p3_2_4.png"><img src="images/p3_2_5.png"><img src="images/p3_2_6.png"><img src="images/p3_3.png"><img src="images/p3_3_1.png"><img src="images/p3_3_2.png"><img src="images/p3_3_2t.png"><img src="images/p3_3_3.png"><img src="images/p3_3_4.png"><img src="images/p3_3_5.png"><img src="images/p3_3_t1.png"><img src="images/p3_3_t2.png"><img src="images/p3_3_t3.png"><img src="images/p3_3_t4.png"><img src="images/p3_3_t5.png"><img src="images/p3_4.png"><img src="images/p3_4_1.png"><img src="images/p3_4_2.png"><img src="images/p3_4_3.png"><img src="images/p3_4_4.png"><img src="images/p3_4_5.png"><img src="images/p3_4_6.png"><img src="images/p3_4_7.png"><img src="images/p3_4_t1.png"><img src="images/p3_4_t2.png"><img src="images/p3_4_t3.png"><img src="images/p3_4_t4.png"><img src="images/p3_5.png"><img src="images/p3_5_1.png"><img src="images/p3_5_2.png"><img src="images/p3_5_2_1.png"><img src="images/p3_5_2_2.png"><img src="images/p3_5_2_3.png"><img src="images/p3_5_2_4.png"><img src="images/p3_5_2_5.png"><img src="images/p3_5_2_6.png"><img src="images/p3_5_2_7.png"><img src="images/p3_5_2_8.png"><img src="images/p3_5_2_9.png"><img src="images/p3_5_3.png"><img src="images/p3_5_3_1.png"><img src="images/p3_5_3_2.png"><img src="images/p3_5_3_3.png"><img src="images/p3_5_3_4.png"><img src="images/p3_5_3_5.png"><img src="images/p3_5_3_6.png"><img src="images/p3_5_4.png"><img src="images/p3_5_5.png"><img src="images/p3_5_t1.png"><img src="images/p3_5_t2.png"><img src="images/p3_5_t3.png"><img src="images/p3_5_t4.png"><img src="images/p3_5_t5.png"><img src="images/p3_6.png"><img src="images/p3_6_1_1.png"><img src="images/p3_6_1_2.png"><img src="images/p3_6_1_3.png"><img src="images/p3_6_1_4.png"><img src="images/p3_6_1_5.png"><img src="images/p3_6_1_p1.png"><img src="images/p3_6_1_p2.png"><img src="images/p3_6_1_p3.png"><img src="images/p3_6_1_p4.png"><img src="images/p3_6_1_t1.png"><img src="images/p3_6_1_t2.png"><img src="images/p3_6_1_t3.png"><img src="images/p3_6_1_t4.png"><img src="images/p3_6_2_1.png"><img src="images/p3_6_2_2.png"><img src="images/p3_6_2_3.png"><img src="images/p3_6_2_4.png"><img src="images/p3_6_2_5.png"><img src="images/p3_7.png"><img src="images/p3_8.png"><img src="images/p41_1.png"><img src="images/p41_2.png"><img src="images/p41_3.png"><img src="images/p41_4.png"><img src="images/p41_5.png"><img src="images/p4_3_2p1.png"><img src="images/p4_3_2p2.png"><img src="images/p4_p1.png"><img src="images/p4_p2.png"><img src="images/p4_p3.png"><img src="images/p4_p4.png"><img src="images/p4_p5.png"><img src="images/p4_p6.png"><img src="images/p4_p7.png"><img src="images/p4_p8.png"><img src="images/p4_p9.png"><img src="images/prev.png"><img src="images/tab.png"><img src="images/tab1.png"><img src="images/tab2.png"><img src="images/tab3.png"><img src="images/topBar.png">';
var phoneImgs1 = '<img src="images/index1.png"><img src="images/logo1.png"><img src="images/logo2.png"><img src="images/menum.png"><img src="images/mp2.png">';
var phoneImgs2 = '<img src="images/bg.jpg"><img src="images/cloz.png"><img src="images/mLogo.png"><img src="images/mmm1.png"><img src="images/mmm2.png"><img src="images/mmm3.png"><img src="images/mmm4.png"><img src="images/mmm41.png"><img src="images/mmm42.png"><img src="images/mmm43.png"><img src="images/mmm44.png"><img src="images/mmm45.png"><img src="images/mmm46.png"><img src="images/mmm5.png"><img src="images/mmmfb.png"><img src="images/mmml.png"><img src="images/mmmline.png"><img src="images/mp3.png"><img src="images/mp41.png"><img src="images/mp42.png"><img src="images/mp43.png"><img src="images/mp44.png"><img src="images/mp45.png"><img src="images/mp46.png"><img src="images/mp4b1.png"><img src="images/mp4b2.png"><img src="images/mp4b3.png"><img src="images/mp4b4.png"><img src="images/mp4b5.png"><img src="images/mp51.png"><img src="images/mp5b1.png"><img src="images/mp5b2.png"><img src="images/mp5b3.png"><img src="images/p1b1.png"><img src="images/p1b2.png">';

$(document).ready(function() {
    if (ChungTool.isPhone()) {
        $('.loadPicWrap .loadingFirst').append(phoneImgs1);
        $('.loadPicWrap .others').append(phoneImgs2);
    } else {
        $('.loadPicWrap .loadingFirst').append(pcImgs1);
        $('.loadPicWrap .others').append(pcImgs2);
    }


    // 菜單
    initHeaderMenu();

    // 左右切換按鈕動態
    initSwitcherAni();


    initVideoBtn();
    // gtm tracking 
    initGTMTrack();



    initShareBtns();

    $('.loadingFirst').waitForImages({
        finished: function() {
            // $('#loading').find('.loadingTxt').html('100');
            simpleHide($('.loadingPage'), 0);
            // _gaPV('index');
            $('.mainContainer').removeClass('hide');
            // $('.ci').removeClass('hide');
            playAni(getChannelString());
        },
        each: function(loaded, count, success) {
            var r = Math.floor(loaded / count * 100);
            // console.log(loaded,count)
            $('.loadingPage').find('.txt').html(r + '%');

        },
        waitForAll: true
    });

    
    initHomeBtn()


})

function initHomeBtn(){
    $('.homeBtn').click(function(){
        replaceChannel($('.mainContainer'),1);
        playAni(getChannelString());
        
    })
}
function initVideoBtn() {
    var btn = $('.p1 .videoBtn');
    var video = $('.videoPop')
    btn.click(function(event) {
        simpleShow(video);
        ChungTool.addYouTube(video.find('.videoWrap'), 'v6qOCuk4ClA');
    });

    video.find('.clozBtn').click(function(event) {
        video.find('.videoWrap').empty();
        simpleHide(video);
    });
}


function initShareBtns() {
    $('.lineBtn').click(function() {
        ChungTool.shareToLine(window.location.href);
    });

    $('.FbBtn').click(function() {
        ChungTool.fbshareCurrentPage();
    });
}


function getChannelString() {
    // console.log('getChannelString')
    var target = $('.mainContainer');
    var stArr = [];

    stArr.push(ChungTool.returnClassNameWithFilter(target, 'channel_')[0]);
    // console.log(stArr);

    var target = target.find('.page.p' + stArr[0]);
    if (target.hasClass('hasSub')) {
        stArr.push(ChungTool.returnClassNameWithFilter(target, 'channel_')[0]);
        target = target.find('.pageContainer.pageContainer_' + stArr[1]);
    } else {
        target = target.find('.pageContainer');
    }

    if (target.hasClass('hasSub')) {
        stArr.push(ChungTool.returnClassNameWithFilter(target, 'channel_')[0]);
    }

    console.log(stArr.join('_'));
    return stArr.join('_');
}



function initHeaderMenu() {
    var hd = $('#header .menuWrap');
    var mBtns = hd.find('.pageMBtn');
    var next = $('.switcherWrap .nextBtn');
    var prev = $('.switcherWrap .prevBtn');

    // 開關手機板的menu
    $('#header .menuBtn').click(function() {
        hd.toggleClass('phoneHide');
        goTop(hd.find('.scrollWrap'));
    });

    hd.find(' .clozBtn').click(function() {
        hd.toggleClass('phoneHide');
    });



    // 菜單按鈕
    mBtns.click(function() {
        var channelString = '';
        var t = $(this);
        var id = ChungTool.returnClassNameWithFilter(t, 'mBtn_');
        var mom = $('.mainContainer');

        ChungTool.removeClassWithFilter(mom, 'channel_');
        mom.addClass('channel_' + id);

        var target = mom.find('.p' + id);
        ChungTool.removeClassWithFilter(target, 'channel_');
        target.addClass('channel_1');

        var target_child = target.find('.pageContainer');
        ChungTool.removeClassWithFilter(target_child, 'channel_');
        target_child.addClass('channel_1');

        playAni(getChannelString());
        hd.toggleClass('phoneHide');

    });

    // 子菜單按鈕
    hd.find('.subBtnWrap .subBtn').click(function() {
        var t = $(this);
        var id = ChungTool.returnClassNameWithFilter(t, 'sBtn_');
        var targetId = ChungTool.returnClassNameWithFilter(t.closest('.subBtnWrap'), 'subBtnWrap_');
        var target = $('.p' + targetId);
        var mom = $('.mainContainer');

        ChungTool.removeClassWithFilter(mom, 'channel_');
        mom.addClass('channel_' + targetId);

        ChungTool.removeClassWithFilter(target, 'channel_');
        target.addClass('channel_' + id);

        playAni(getChannelString());
        hd.toggleClass('phoneHide');

    });


    // 子菜單按鈕
    $('.p4 .pageContainer_1 .sBtn').click(function() {
        var t = $(this);
        var id = ChungTool.returnClassNameWithFilter(t, 'subBtn')[0] * 1 + 1;
        // var targetId = ChungTool.returnClassNameWithFilter(t.closest('.subBtnWrap'), 'subBtnWrap_');
        var target = $('.p4');
        ChungTool.removeClassWithFilter(target, 'channel_');
        target.addClass('channel_' + id);
        playAni(getChannelString());

    });

    // 頁面自己分頁切換
    $('.contentTab .tab').click(function() {
        var t = $(this);
        var id = ChungTool.returnClassNameWithFilter(t, 'tab_');
        var bigMom = t.closest('.page');
        var grandMom = bigMom.closest('.mainContainer');
        var mom = t.closest('.pageContainer');


        ChungTool.removeClassWithFilter(mom, 'channel_');
        mom.addClass('channel_' + id);


        playAni(getChannelString());
    });


    next.click(function(event) {
        var mom = $('.mainContainer');
        var cNow = getChannelNow(mom);
        var page = $('.page.p' + cNow);

        if (!page.hasClass('hasSub')) {
            replaceChannel(mom, cNow + 1)
        } else {
            var pageChannelNow = getChannelNow(page);
            if (pageChannelNow < page.find('.pageContainer').length) {
                replaceChannel(page, pageChannelNow + 1);
            } else {
                replaceChannel(mom, cNow + 1);
            }
        }
        replaceChannel($('.pageContainer.hasSub'), 1)
        playAni(getChannelString());

    });


    prev.click(function(event) {
        var mom = $('.mainContainer');
        var cNow = getChannelNow(mom);
        var page = $('.page.p' + cNow);

        if (!page.hasClass('hasSub')) {
            replaceChannel(mom, cNow - 1)
            var pNext = $('.page.p' + (cNow - 1));
            if (pNext.hasClass('hasSub')) {
                replaceChannel(pNext, pNext.find('.pageContainer').length);
            }
        } else {
            var pageChannelNow = getChannelNow(page);
            if (pageChannelNow > 1) {
                replaceChannel(page, pageChannelNow - 1);
            } else {
                replaceChannel(mom, cNow - 1);
            }
        }
        replaceChannel($('.pageContainer.hasSub'), 1)
        playAni(getChannelString());

    });


    // ChungTool.addSwipeEvent($('.mainContainer'), function() {
    //     if (ChungTool.isPhone()) {
    //         if (prev.css('display') != 'none') {
    //             prev.trigger('click');

    //         }
    //     }
    // }, function() {
    //     if (ChungTool.isPhone()) {
    //         if (next.css('display') != 'none') {
    //             next.trigger('click');
    //         }

    //     }
    // })

    $('.mainContainer').on( "swiperight", function(){
       if (ChungTool.isPhone()) {
            if (next.css('display') != 'none') {
                next.trigger('click');
            }

        }
    } );


     $('.mainContainer').on( "swipeleft", function(){
      if (ChungTool.isPhone()) {
            if (prev.css('display') != 'none') {
                prev.trigger('click');

            }
        }
    } );

}


function getChannelNow(el) {
    return ChungTool.returnClassNameWithFilter(el, 'channel_')[0] * 1;
}

function replaceChannel(el, channel) {
    ChungTool.removeClassWithFilter(el, 'channel_');
    el.addClass('channel_' + channel);
}


function initGTMTrack() {
    $('.gtmTrackingBtn').click(function() {
        if (ChungTool.isOnline()) {
            dataLayer.push({ 'eventCategory': '07-online-conv ', 'eventAction': '07-online_eshop_boradbandkungfu.html', 'eventLabel': '07-online_eshop_boradbandkungfu_' + $(this).attr('data-gtm'), 'event': 'click-ga' });
        } else {
            console.log('GTMTrack: ' + $(this).attr('data-gtm'));
        }
    })

}
// =============== animation ===================//
function playAni(num) {
    if (ChungTool.isPhone()) {
        goTop($(".pageContainer"));
        return;
    }
    switch (num) {
        case '1':
            playIndex();
            break;

        case '2_1':
            playTxt($('.p2 .content_1'));
            var ani2 = new TimelineMax();
            var el = $('.p2');
            ani2
                .set(el.find('.p1'), { marginLeft: 60, delay: .8 })
                .set(el.find('.p3'), { marginLeft: 90 })
                .set(el.find('.p2'), { marginTop: -300, autoAlpha: 0 })
                .to(el.find('.picWrap'), .8, { autoAlpha: 1 }, 'in')
                .to(el.find('.p1,.p3'), 1, { marginLeft: 0, autoAlpha: 1 }, 'in')
                .to(el.find('.p2'), .8, { marginTop: 0, autoAlpha: 1, ease: Back.easeOut }, '-=0.5')
                .to(el.find('.p3'), .3, { marginTop: 2, yoyo: true, repeat: 1, rotationZ: -5, transformOrigin: '329px 185px', ease: Power2.easeInOut }, '-=.6')
                .to(el.find('.light'), 1.6, { autoAlpha: 1 }, 1.6)
            break;
        case '2_2':
            playTxt($('.p2 .content_2'));
            break;
        case '3':
            playTxt($('.p3'))
            break;
        case '4_1':
            console.log('123')
            playTxt($('.p4 .pageContainer_1'));
            break;
        case '4_2_1':
            playTxt($('.p4 .pageContainer_2 .content_1'));
            break;
        case '4_2_2':
            playTxt($('.p4 .pageContainer_2 .content_2'));
            var ani2 = new TimelineMax();
            var el = $('.p4 .pageContainer_2 .content_2');
            ani2
                .set(el.find('.hAni_costom'), { autoAlpha: 0 })
                .staggerTo(el.find('.hAni_costom'), .4, { delay: .8, scale: 1, autoAlpha: 1, marginTop: 0, marginLeft: 0, rotationY: 0, z: 0, ease: Back.easeOut }, 0.3)


            break;
        case '4_3_1':
            playTxt($('.p4 .pageContainer_3 .content_1'));
            break;
        case '4_3_2':
            playTxt($('.p4 .pageContainer_3 .content_2'));
            break;
        case '4_4':
            playTxt($('.p4 .pageContainer_4'));
            break;
        case '4_5_1':
            playTxt($('.p4 .pageContainer_5 .content_1'));
            break;
        case '4_5_2':
            playTxt($('.p4 .pageContainer_5 .content_2'));
            break;
        case '4_5_3':
            playTxt($('.p4 .pageContainer_5 .content_3'));
            break;
        case '4_6_1':
            playTxt($('.p4 .pageContainer_6 .content_1'));
            var ani2 = new TimelineMax();
            var el = $('.p4 .pageContainer_6 .content_1');
            ani2
                .staggerTo(el.find('.picWrap .hAni'), 1.2, { delay: 0.6, scale: 1, autoAlpha: 1, marginTop: 0, marginLeft: 0, rotationY: 0, z: 0, ease: Power4.easeOut }, 0.1)

            break;
        case '4_6_2':
            playTxt($('.p4 .pageContainer_6 .content_2'));
            var ani2 = new TimelineMax();
            var el = $('.p4 .pageContainer_6 .content_2');
            ani2
                .set(el.find('.hAni_costom'), { autoAlpha: 0 })
                .staggerTo(el.find('.hAni_costom'), .4, { delay: .8, scale: 1, autoAlpha: 1, marginTop: 0, marginLeft: 0, rotationY: 0, z: 0, ease: Back.easeOut }, 0.3)


            break;
        case '5':
            playTxt($('.p5'));
            var ani2 = new TimelineMax();
            var el = $('.p5 .picWrap');
            ani2
                .set(el, { autoAlpha: 0, delay: .1 })
                .set(el.find('.p1'), { marginLeft: 300 }) //backCould
                .set(el.find('.p2'), { marginLeft: 50 }) // moutain
                .set(el.find('.p4'), { marginLeft: -120 }) // froutCloud
                .set(el.find('.p5'), { marginLeft: 80 }) // man
                .set(el.find('.p3'), { autoAlpha: 0 }) //light
                .to(el, 1, { autoAlpha: 1 }, 'in') //backCould

            .to(el.find('.p1'), 10, { marginLeft: 0, ease: Power3.easeOut }, 'in') //backCould
                .to(el.find('.p2'), 2, { marginLeft: 0, ease: Power3.easeOut }, 'in') // moutain
                .to(el.find('.p4'), 10, { marginLeft: 0, ease: Power3.easeOut }, 'in') // froutCloud
                .to(el.find('.p5'), 2, { marginLeft: 0, ease: Power3.easeOut }, 'in') // man
                .to(el.find('.p3'), .8, { autoAlpha: 1 }, 'in+=0.8') //light
                // .set(el.find('.bAni'), { marginTop: 60 })
                // .set(el.find('.rlAni'), { rotationY: 60 })
                // .set(el.find('.popAni'), { scale: 1.3 }) 
                // .staggerTo(el.find('> *'), 1.2, { scale: 1, autoAlpha: 1, marginTop: 0, marginLeft: 0, rotationY: 0, z: 0, ease: Power4.easeOut }, 0.08, '-=0.1')
            break;
    }


    function playIndex() {
        var ani = new TimelineMax();
        var st = .8;
        ani
            .set('.p1 .hAni', { autoAlpha: 0 })
            .set('.p1 .perspectiveWrap', { perspective: 400, transformStyle: "preserve-3d" })
            .set('.p1 .pic1', { z: -1000, rotationX: -450, rotationY: 60, autoAlpha: 1 })
            .set('.p1 .txtAni', { autoAlpha: 0 })
            .set('.p1 .lightWrap', { scale: 0.5 })
            .set('.p1 .lAni', { marginLeft: -30 })
            .set('.p1 .rAni', { marginLeft: 30 })
            .set('.p1 .lBAni', { marginLeft: -120 })
            .set('.p1 .rBAni', { marginLeft: 120 })
            .set('.p1 .tAni', { marginTop: -60 })
            .set('.p1 .bAni', { marginTop: 60 })
            .set('.p1 .rlAni', { rotationZ: 60 })
            .to('.p1 .pic1', 1.6, { z: 0, rotationX: 0, rotationY: 0, autoAlpha: 1 })
            .staggerTo('.p1 .txtAni', .4, { z: 100, autoAlpha: 1 }, 0.05, st)
            .staggerTo('.p1 .txtAni', .6, { z: 0, ease: Bounce.easeOut }, 0.05, st + .4)
            .staggerTo('.p1 .playBtn > *', 0.8, { autoAlpha: 1, marginTop: 0, marginLeft: 0, rotationZ: 0, ease: Back.easeOut }, 0.05, '-=0.5')
            .to('.p1 .man1', .6, { autoAlpha: 1, marginLeft: 0, ease: Back.easeOut }, '-=0.6')
            .to('.p1 .man2', .6, { autoAlpha: 1, marginLeft: 0, ease: Back.easeOut }, '-=0.3')
            .to('.p1 .man1', 0.06, { scaleX: 1.015, yoyo: true, delay: 1.2, repeat: 21 })
            .to('.p1 .man2', 0.06, { scaleX: 1.015, yoyo: true, delay: .6, repeat: 21 })
            .to('.p1 .lightWrap', 2, { autoAlpha: 1, scale: 1 }, 2)

    }

    function playTxt(el) {
        var ani = new TimelineMax();

        ani
            .set(el.find('.hAni'), { autoAlpha: 0 })
            .set(el.find('.txtWrap .title'), { perspective: 400, transformStyle: "preserve-3d" })
            .set(el.find('.perspectiveWrap'), { perspective: 1200, transformStyle: "preserve-3d" })
            .set(el.find('.txtWrap .title > *'), { z: 200 })
            .set(el.find('.lAni'), { marginLeft: -30 })
            .set(el.find('.rAni'), { marginLeft: 30 })
            .set(el.find('.lBAni'), { marginLeft: -120 })
            .set(el.find('.rBAni'), { marginLeft: 120 })
            .set(el.find('.tAni'), { marginTop: -60 })
            .set(el.find('.bAni'), { marginTop: 60 })
            .set(el.find('.rlAni'), { rotationY: 60 })
            .set(el.find('.popAni'), { scale: 1.3 })
            .staggerTo(el.find('.txtWrap .hAni'), 1.2, { scale: 1, autoAlpha: 1, marginTop: 0, marginLeft: 0, rotationY: 0, z: 0, ease: Power4.easeOut }, 0.08, '-=0.1')

    }
}

function initSwitcherAni() {
    var next = $('.switcherWrap .nextBtn');
    var prevBtn = $('.switcherWrap .prevBtn');
    var tt = new TimelineMax();
    tt
        .to(prevBtn.find('.pic'), 0.15, { ease: Power2.easeInOut, marginLeft: -10, rotation: 20, marginTop: 5 }, 'start')
        .to(prevBtn.find('.pic'), 0.2, { ease: Power2.easeInOut, marginLeft: 10, rotation: 0, marginTop: 0 })
        .to(prevBtn.find('.pic'), 0.08, { repeat: -1, yoyo: true, ease: Power2.easeInOut, marginLeft: 8 })
        .to(prevBtn.find('.pic'), .2, { marginLeft: -2 }, 'cloz')
        .to(prevBtn.find('.pic'), .3, { marginLeft: 2, yoyo: true, repeat: -1, ease: Power2.easeInOut })
        .play('cloz');

    var tt2 = new TimelineMax();
    tt2
        .to(next.find('.pic'), 0.15, { ease: Power2.easeInOut, marginLeft: 10, rotation: -20, marginTop: 5 }, 'start')
        .to(next.find('.pic'), 0.2, { ease: Power2.easeInOut, marginLeft: -10, rotation: 0, marginTop: 0 })
        .to(next.find('.pic'), 0.08, { repeat: -1, yoyo: true, ease: Power2.easeInOut, marginLeft: -8 })
        // .to(next.find('.pic'), 0.2, { ease: Back.easeOut, marginLeft: 0, marginTop: 0 }, 'cloz')
        .to(next.find('.pic'), .2, { marginLeft: 2 }, 'cloz')
        .to(next.find('.pic'), .3, { marginLeft: -2, yoyo: true, repeat: -1, ease: Power2.easeInOut })
        .play('cloz');





    next.on('mouseenter', function() {


        if (!ChungTool.isPhone()) {
            tt2.play('start');
        }
    })

    next.on('mouseleave', function() {
        if (!ChungTool.isPhone()) {

            tt2.play('cloz');
        }
    })


    prevBtn.on('mouseenter', function() {


        if (!ChungTool.isPhone()) {
            tt.play('start');
        }
    })

    prevBtn.on('mouseleave', function() {
        if (!ChungTool.isPhone()) {

            tt.play('cloz');
        }
    })
}


function goTop(el) {
    el.animate({
        scrollTop: top
    }, 0);
}
